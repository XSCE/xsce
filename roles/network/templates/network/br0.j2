# generated by XSCE
auto br0
{% if gui_desired_network_role == "LanController" or gui_desired_network_role == "Gateway" %}
iface br0 inet static
    bridge_ports {% if gui_desired_network_role == "LanController" %}eth0{% endif %} {% if discovered_wireless_iface != "none" %} {{ discovered_wireless_iface }}{% endif %}

    address {{ lan_ip }}
    netmask {{ lan_netmask }}
{% endif %}
{% if gui_desired_network_role == "appliance" %}
{% if gui_static_wan_ip == "unset" %}
iface br0 inet dhcp
{% else %}
iface br0 inet static
    address {{ gui_static_wan_ip }}
    netmask {{ gui_static_wan_netmask }}
    gateway {{ gui_static_wan_gateway }}
    dns-nameservers {{ gui_static_wan_nameserver }}
{% endif %}
    bridge_ports {{ discovered_wan_iface }} eth2
{% endif %}

auto {{ discovered_wan_iface }}
iface {{discovered_wan_iface }} inet manual
   pre-up   ifconfig $IFACE up
   pre-down ifconfig $IFACE down
{% if openvpn_enabled %}
   post-up {{ xsce_base }}/roles/network/templates/network/up_wan
{% endif %}

auto {{ discovered_wireless_iface }}
iface {{discovered_wireless_iface }} inet manual
   pre-up   ifconfig $IFACE up
   pre-down ifconfig $IFACE down

allow-hotplug eth2
iface eth2 inet manual
   pre-up   ifconfig $IFACE up
   pre-down ifconfig $IFACE down

